<div class="main-container">

  <header class="app-header">
    <h1>üé¨ {{ title }}</h1>
  </header>

  <section class="form-section">
    <h2>{{ editandoId ? 'Editar Anime' : 'Agregar Nuevo Anime' }}</h2>
    
    <div class="form-container">
      <div class="form-group">
        <label for="nombre">Nombre del Anime:</label>
        <input type="text" id="nombre" [(ngModel)]="nuevoAnime.nombre" placeholder="Ej: One Piece">
      </div>

      <div class="form-row">
        <div class="form-group half">
          <label for="inicio">A√±o Inicio:</label>
          <input type="number" id="inicio" [(ngModel)]="nuevoAnime.anioInicio" placeholder="Ej: 1999">
        </div>
        <div class="form-group half">
          <label for="termino">A√±o T√©rmino:</label>
          <input type="number" id="termino" [(ngModel)]="nuevoAnime.anioTermino" placeholder="Ej: En emisi√≥n">
        </div>
      </div>

      <div class="form-group">
        <label for="volumenes">Vol√∫menes / Episodios:</label>
        <input type="number" id="volumenes" [(ngModel)]="nuevoAnime.volumenes" placeholder="Cantidad">
      </div>

      <div class="form-group">
        <label for="comentarios">Comentarios:</label>
        <textarea id="comentarios" rows="3" [(ngModel)]="nuevoAnime.comentarios" placeholder="Tus opiniones..."></textarea>
      </div>

      <button class="btn-agregar" 
              [style.background-color]="editandoId ? '#f47521' : ''" 
              (click)="guardarAnime()">
        {{ editandoId ? 'Actualizar Anime' : 'Agregar al Cat√°logo' }}
      </button>

      <button *ngIf="editandoId" class="btn-cancelar" (click)="resetForm()">
        Cancelar Edici√≥n
      </button>

    </div>
  </section>

  <hr class="divider">

  <section class="list-section">
    <h2>Mis Animes Guardados ({{listaAnime.length}})</h2>

    <div class="anime-grid">
      <div class="anime-card" *ngFor="let anime of listaAnime">
        <div class="card-image-placeholder">
             <span>ANIME</span>
        </div>
        <div class="card-content">
          <h3>{{ anime.nombre }}</h3>
          <div class="card-details">
            <p><strong>A√±o:</strong> {{ anime.anioInicio || '?' }} - {{ anime.anioTermino || '?' }}</p>
            <p><strong>Vols/Eps:</strong> {{ anime.volumenes || 'N/A' }}</p>
          </div>
          <p class="card-comment" *ngIf="anime.comentarios">"{{ anime.comentarios }}"</p>
          
          <div class="card-actions">
            <button class="btn-action btn-edit" (click)="cargarParaEditar(anime)">Editar</button>
            <button class="btn-action btn-delete" (click)="eliminar(anime.id)">Eliminar</button>
          </div>

        </div>
      </div>

      <p *ngIf="listaAnime.length === 0">No hay animes en tu lista a√∫n (o la base de datos est√° cargando).</p>
    </div>
  </section>

  <footer class="app-footer">
    <p>Enlaces de inter√©s:</p>
    <div class="footer-links">
        <a href="https://www.youtube.com" target="_blank" class="link-yt">YouTube</a>
        <a href="https://www.crunchyroll.com/es" target="_blank" class="link-cr">Crunchyroll</a>
    </div>
  </footer>

</div>